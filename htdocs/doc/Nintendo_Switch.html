<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_getting_engine_version_for_nintendo_switch">Getting engine version for Nintendo Switch</a></li>
<li><a href="#_technical_details">Technical details</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Castle Game Engine</em> supports compiling games to the <a href="https://www.nintendo.com/switch/">Nintendo Switch</a> console.</p>
</div>
<div class="paragraph">
<p>It is a modern, successful, indie-friendly console from Nintendo. Our friend company, <em>Cat-astrophe Games</em>, has already released games using CGE on Nintendo Switch (<a href="https://cat-astrophe-games.party/escape-universe/">Escape from the Universe</a> and <a href="https://unholy-society.com/">The Unholy Society</a>).</p>
</div>
<div class="paragraph">
<p>It is a full integration, really 100% of the engine works on Nintendo Switch. From the developer point of view, you just write cross-platform Pascal code using CGE units, and then you can recompile the application using the Castle Game Engine <a href="build tool" class="bare">build tool</a> with the <code>--target=nintendo-switch</code> parameter.</p>
</div>
</div>
</div>
<h1 id="_getting_engine_version_for_nintendo_switch" class="sect0">Getting engine version for Nintendo Switch</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>The integration code with Nintendo Switch is not public and not open-source. It cannot be, as we are covered by Nintendo NDA agreements and we cannot disclose the technological details about how Nintendo Switch works. To develop on Nintendo Switch, you have to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Become a <a href="https://developer.nintendo.com/">Nintendo Developer</a> yourself, and sign the necessary NDA agreements between your company and Nintendo. You will most likely want to buy a developer version of the console, as well.</p>
</li>
<li>
<p>Contact me (Michalis Kamburelis) through the non-public Nintendo developer forum. I can then share with you the necessary code that adds Nintendo Switch integration on top of the open-source CGE core, through the Nintendo forum, so Nintendo can confirm it&#8217;s legally OK with them. Of course you get this for free. The integration code cannot be open-source, but I still want to give it to everyone for free.</p>
</li>
</ul>
</div>
</div>
</div>
<h1 id="_technical_details" class="sect0">Technical details</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>Note that we cannot share various technical details, due to Nintendo restrictions. The full documentation describing using CGE on Nintendo Switch is part of the closed-source CGE branch, that you get for free once you confirm that you are registered Nintendo Developer.</p>
</div>
<div class="paragraph">
<p>Some public information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We are using unmodified <a href="https://www.freepascal.org/">FPC</a>.</p>
</li>
<li>
<p>All the units available on Android/Aarch64 platform are available on Nintendo Switch as well. We use a small trick to utilize FPC for Android/Aarch64 (compiler and standard library) to develop on Nintendo Switch, since FPC lacks Embedded/Aarch64 target.</p>
</li>
<li>
<p>You cannot access system-specific things using standard library. You have to use CGE. For example, you cannot open files using <code>TFileStream</code>, you must open files using CGE <code>Download</code> function. Even a large game can be easily recompiled for Nintendo Switch, but you need to use CGE API consistently for everything (reading files, measuring time etc.)</p>
</li>
<li>
<p>Other than that, everything just works. The whole CGE API works, and the FPC standard library works as well as long as you avoid system calls. E.g. you can use standard FPC units to process XML, JSON etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you have any questions, <a href="https://castle-engine.io/talk.php">please ask</a>.</p>
</div>
</div>
</div>