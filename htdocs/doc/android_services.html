<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_list_of_available_services">2. List of Available Services</a></li>
<li><a href="#_note_on_android_project_types">3. Note on Android project types</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image right"><img src="https://castle-engine.io/images/thumb_size/android-components-icons.png" alt="android components icons"></span></p>
</div>
<div class="paragraph">
<p>When you use our <a href="Build tool">build tool</a> to package your game for Android, you can easily add <em>services</em> to the project. They allow to comfortably access various Android services (from Google and other 3rd parties, like ad networks) from your Object Pascal game code using the <a href="http://castle-engine.sourceforge.net/engine.php">Castle Game Engine</a>.</p>
</div>
<div class="paragraph">
<p>The Android services are declared in <a href="CastleEngineManifest.xml examples">CastleEngineManifest.xml</a> like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;android&gt;</span>
  <span class="tag">&lt;services&gt;</span>
    <span class="tag">&lt;service</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">google_play_services</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;service</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">google_in_app_purchases</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
  <span class="tag">&lt;/services&gt;</span>
<span class="tag">&lt;/android&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_list_of_available_services">2. List of Available Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/tree/master/tools/build-tool/data/android/integrated-services/admob/README.md">admob</a></p>
</li>
<li>
<p><a href="#apps_flyer">apps_flyer</a></p>
</li>
<li>
<p><a href="#chartboost">chartboost</a></p>
</li>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/tree/master/tools/build-tool/data/android/integrated-services/client_server/README.md">client_server</a></p>
</li>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/tree/master/tools/build-tool/data/android/integrated-services/download_urls/README.md">download_urls</a></p>
</li>
<li>
<p><a href="#facebook">facebook</a></p>
</li>
<li>
<p><a href="#freetype">freetype</a></p>
</li>
<li>
<p><a href="#game_analytics">game_analytics</a></p>
</li>
<li>
<p><a href="#giftiz">giftiz</a></p>
</li>
<li>
<p><a href="#google_analytics">google_analytics</a></p>
</li>
<li>
<p><a href="#google_in_app_purchases">google_in_app_purchases</a></p>
</li>
<li>
<p><a href="#google_play_games">google_play_games</a></p>
</li>
<li>
<p><a href="#google_play_services">google_play_services</a></p>
</li>
<li>
<p><a href="#helpshift">helpshift</a></p>
</li>
<li>
<p><a href="#heyzap">heyzap</a></p>
</li>
<li>
<p><a href="#sound">sound</a></p>
</li>
<li>
<p><a href="#startapp">startapp</a></p>
</li>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/tree/master/tools/build-tool/data/android/integrated-services/tenjin/README.md">tenjin</a></p>
</li>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/tree/master/tools/build-tool/data/android/integrated-services/test_fairy/README.md">test_fairy</a></p>
</li>
<li>
<p><a href="#ogg_vorbis">ogg_vorbis</a></p>
</li>
<li>
<p><a href="#photo_service">photo_service</a></p>
</li>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/blob/master/tools/build-tool/data/android/integrated-services/png/README.md">png</a></p>
</li>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/blob/master/tools/build-tool/data/android/integrated-services/read_external_storage/README.md">read_external_storage</a></p>
</li>
<li>
<p><a href="#vibrate">vibrate</a></p>
</li>
<li>
<p><a href="https://github.com/castle-engine/castle-engine/blob/master/tools/build-tool/data/android/integrated-services/write_external_storage/README.md">write_external_storage</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_note_on_android_project_types">3. Note on Android project types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the <code>&lt;android&gt;</code> element, you can request a project type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;android project_type="base"&gt;</code>: No extra integration, the final project does not use any Java code at all. Rendering and inputs work 100%, since they don&#8217;t require anything extra. This may be enough for some games. However <em>no services can work</em>.</p>
</li>
<li>
<p><code>&lt;android project_type="integrated"&gt;</code>: (<strong>This is the default in CGE &gt;= 6.5.</strong>) We include extra Java integration code that allows to use Android project services that communicate with Object Pascal code. This opens the door for the services mentioned below. It also allows to integrate with various native-code libraries (like FreeType and OpenAL).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Merely declaring the project type as "integrated" (even without any extra services) immediately gives you:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Immersive mode</em> on newer Android devices. This is a "true" full-screen mode for games on Android, where the back/home buttons are usually hidden.</p>
</li>
<li>
<p>You can open URLs in external applications using <a href="https://castle-engine.io/apidoc-unstable/html/CastleOpenDocument.html#OpenURL">OpenURL</a> from <a href="https://castle-engine.io/apidoc-unstable/html/CastleOpenDocument.html">CastleOpenDocument</a> unit. Hint: use special <code>market://</code> URL to send users to the <em>Google Play</em> store, e.g. to rate your application.</p>
</li>
<li>
<p>You can share text and links with other applications. Use <a href="http://castle-engine.sourceforge.net/apidoc/html/CastleOpenDocument.html#ShareText">ShareText</a> from the <a href="http://castle-engine.sourceforge.net/apidoc/html/CastleOpenDocument.html">CastleOpenDocument</a> unit.</p>
</li>
<li>
<p>You can send Android standard on-screen notification ("toast") using <a href="http://castle-engine.sourceforge.net/apidoc/html/CastleOpenDocument.html#OnScreenNotification">OnScreenNotification</a> from the <a href="http://castle-engine.sourceforge.net/apidoc/html/CastleOpenDocument.html">CastleOpenDocument</a> unit.</p>
</li>
<li>
<p>Some services (like <code>sound</code> and <code>ogg_vorbis</code>) will be added automatically to your project if the sound files are detected in your game data. So merely declaring your project type as "integrated" makes sound work on Android.</p>
</li>
</ul>
</div>
</div>
</div>