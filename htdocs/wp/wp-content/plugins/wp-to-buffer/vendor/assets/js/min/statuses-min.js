function wpToSocialProReinitAutosize(){var t;0!=(t=jQuery)(".wpzinc-autosize-js",t(wp_to_social_pro.status_form)).length&&(autosize.destroy(t(".wpzinc-autosize-js")),autosize(t(".wpzinc-autosize-js")))}function wpToSocialProReinitAutocomplete(){wp_zinc_autocomplete_destroy(),wp_zinc_autocomplete_setup(),wp_zinc_autocomplete_initialize()}function wpToSocialProInitTags(){var t;0!=(t=jQuery)("select.tags",t(wp_to_social_pro.status_form)).length&&t("select.tags",t(wp_to_social_pro.status_form)).each((function(){t(this).on("change.wp-to-social-pro",(function(a){var o=t(this).val(),s=t(this).attr("data-textarea"),e=t("option:selected",t(this)),i=t(this).closest(".wp-to-social-pro-status-form"),_=t(s,t(i)),r=t(_).val();if(void 0!==t(e).data("question")){var p=prompt(t(e).data("question"),t(e).data("default-value"));0==p.length&&(p=t(e).data("default-value")),o=o.replace(t(e).data("replace"),p)}t(_).val(r+=" "+o).trigger("change")}))}))}function wpToSocialProInitSelectize(t,a,o,s){var e;(e=jQuery)(".wpzinc-selectize",e(t)).each((function(){var t=e(this).attr("id"),_=!1,r=!1,p={},l=[];if(a&&o)var _=e('div.statuses[data-profile-id="'+a+'"][data-action="'+o+'"]'),r=e('tr[data-status-index="'+s+'"]',e(_)),p,l=void 0!==(p=JSON.parse(e(r).attr("data-labels")))[t]?p[t]:[];e(this).selectize({valueField:"id",labelField:"text",searchField:"text",plugins:["drag_drop","remove_button"],options:l,delimiter:",",persist:!1,create:!1,load:function(t,a){if(!t.length||t.length<3)return a();var o=this.$input.data("action"),s=this.$input.data("taxonomy");e.ajax({url:ajaxurl,data:{action:o,taxonomy:s,q:t,page:10},error:function(t,o,s){a()},success:function(t){a(t.data)}})},onChange:function(a){if(r){var o=[];for(i=0;i<this.items.length;i++)o.push({id:this.options[this.items[i]].id,text:this.options[this.items[i]].text});var s=JSON.parse(e(r).attr("data-labels"));s[t]=o,e(r).data("labels",JSON.stringify(s)).attr("data-labels",JSON.stringify(s))}}})}))}function wpToSocialProDestroySelectize(t){var a;(a=jQuery)(".wpzinc-selectize",a(t)).each((function(){this.selectize&&this.selectize.destroy()}))}function wpToSocialProReindexStatuses(t){var a;(a=jQuery)("tr.sortable",a(t)).each((function(t){a(this).data("status-index",t).attr("data-status-index",t),a("td.count ",a(this)).html("#"+(t+1)),0==t?a(this).addClass("first"):a(this).removeClass("first")}))}function wpToSocialProUpdateScheduleOptions(t){!function(a){if(0!=a("select.schedule",a(wp_to_social_pro.status_form)).length)switch(a("select.schedule",a(wp_to_social_pro.status_form)).val()){case"custom":a("div.schedule",a(wp_to_social_pro.status_form)).show(),a("span.schedule",a(wp_to_social_pro.status_form)).show(),a("span.hours_mins_secs",a(wp_to_social_pro.status_form)).show(),a("span.relative",a(wp_to_social_pro.status_form)).hide(),a("span.custom",a(wp_to_social_pro.status_form)).text("after "+t).show(),a("span.custom_field",a(wp_to_social_pro.status_form)).hide(),a("span.the_events_calendar",a(wp_to_social_pro.status_form)).hide(),a("span.events_manager",a(wp_to_social_pro.status_form)).hide(),a("span.specific",a(wp_to_social_pro.status_form)).hide();break;case"custom_relative":a("div.schedule",a(wp_to_social_pro.status_form)).show(),a("span.schedule",a(wp_to_social_pro.status_form)).show(),a("span.hours_mins_secs",a(wp_to_social_pro.status_form)).hide(),a("span.relative",a(wp_to_social_pro.status_form)).show(),a("span.custom",a(wp_to_social_pro.status_form)).text("after "+t).show(),a("span.custom_field",a(wp_to_social_pro.status_form)).hide(),a("span.the_events_calendar",a(wp_to_social_pro.status_form)).hide(),a("span.events_manager",a(wp_to_social_pro.status_form)).hide(),a("span.specific",a(wp_to_social_pro.status_form)).hide();break;case"custom_field":a("div.schedule",a(wp_to_social_pro.status_form)).show(),a("span.schedule",a(wp_to_social_pro.status_form)).show(),a("span.hours_mins_secs",a(wp_to_social_pro.status_form)).show(),a("span.relative",a(wp_to_social_pro.status_form)).hide(),a("span.custom",a(wp_to_social_pro.status_form)).text("").hide(),a("span.custom_field",a(wp_to_social_pro.status_form)).show(),a("span.the_events_calendar",a(wp_to_social_pro.status_form)).hide(),a("span.events_manager",a(wp_to_social_pro.status_form)).hide(),a("span.specific",a(wp_to_social_pro.status_form)).hide();break;case"_EventStartDate":case"_EventEndDate":a("div.schedule",a(wp_to_social_pro.status_form)).show(),a("span.schedule",a(wp_to_social_pro.status_form)).show(),a("span.hours_mins_secs",a(wp_to_social_pro.status_form)).show(),a("span.relative",a(wp_to_social_pro.status_form)).hide(),a("span.custom",a(wp_to_social_pro.status_form)).text("").hide(),a("span.custom_field",a(wp_to_social_pro.status_form)).hide(),a("span.the_events_calendar",a(wp_to_social_pro.status_form)).show(),a("span.events_manager",a(wp_to_social_pro.status_form)).hide(),a("span.specific",a(wp_to_social_pro.status_form)).hide();break;case"_event_start_date":case"_event_end_date":a("div.schedule",a(wp_to_social_pro.status_form)).show(),a("span.schedule",a(wp_to_social_pro.status_form)).show(),a("span.hours_mins_secs",a(wp_to_social_pro.status_form)).show(),a("span.relative",a(wp_to_social_pro.status_form)).hide(),a("span.custom",a(wp_to_social_pro.status_form)).text("").hide(),a("span.custom_field",a(wp_to_social_pro.status_form)).hide(),a("span.the_events_calendar",a(wp_to_social_pro.status_form)).hide(),a("span.events_manager",a(wp_to_social_pro.status_form)).show(),a("span.specific",a(wp_to_social_pro.status_form)).hide();break;case"specific":a("div.schedule",a(wp_to_social_pro.status_form)).show(),a("span.schedule",a(wp_to_social_pro.status_form)).show(),a("span.hours_mins_secs",a(wp_to_social_pro.status_form)).hide(),a("span.relative",a(wp_to_social_pro.status_form)).hide(),a("span.custom",a(wp_to_social_pro.status_form)).text("").hide(),a("span.custom_field",a(wp_to_social_pro.status_form)).hide(),a("span.the_events_calendar",a(wp_to_social_pro.status_form)).hide(),a("span.events_manager",a(wp_to_social_pro.status_form)).hide(),a("span.specific",a(wp_to_social_pro.status_form)).show();break;default:a("div.schedule",a(wp_to_social_pro.status_form)).hide(),a("span.schedule",a(wp_to_social_pro.status_form)).hide(),a("span.hours_mins_secs",a(wp_to_social_pro.status_form)).hide(),a("span.relative",a(wp_to_social_pro.status_form)).hide(),a("span.custom",a(wp_to_social_pro.status_form)).text("").hide(),a("span.custom_field",a(wp_to_social_pro.status_form)).hide(),a("span.the_events_calendar",a(wp_to_social_pro.status_form)).hide(),a("span.events_manager",a(wp_to_social_pro.status_form)).hide(),a("span.specific",a(wp_to_social_pro.status_form)).hide();break}}(jQuery)}function wpToSocialProUpdateImageOptions(){!function(t){if(0!=t("select.image",t(wp_to_social_pro.status_form)).length)switch(t("select.image",t(wp_to_social_pro.status_form)).val()){case"3":case"4":t("div.text-to-image",t(wp_to_social_pro.status_form)).show();break;default:t("div.text-to-image",t(wp_to_social_pro.status_form)).hide();break}}(jQuery)}function wpToSocialProAddStatus(t,a){var o,s,e,i;o=jQuery,s=o('div.statuses[data-profile-id="'+t+'"][data-action="'+a+'"]'),e=o("tbody",o(s)),i=o("tr.status",o(e)).last(),o(e).first().after(o(i).clone()),wpToSocialProReindexStatuses(s),wpToSocialProUpdateStatuses()}function wpToSocialProEditStatus(t,a,o,s,e){wpToSocialProDestroySelectize(wp_to_social_pro.status_form),wpToSocialProPopulateStatusForm(t,a,o,s,e),wpToSocialProUpdateScheduleOptions(o),wpToSocialProUpdateImageOptions(),wpToSocialProDisplayStatusForm(t,o,s),wpToSocialProReinitAutosize(),wpToSocialProReinitAutocomplete(),wpToSocialProInitSelectize(wp_to_social_pro.status_form,t,o,s)}function wpToSocialProDeleteStatus(t,a,o){!function(s){var e;if(confirm(wp_to_social_pro.delete_status_message)){var i=s('div.statuses[data-profile-id="'+t+'"][data-action="'+a+'"]'),_=s('tr[data-status-index="'+o+'"]',s(i));s(_).remove(),wpToSocialProReindexStatuses(i),wpToSocialProUpdateStatuses()}}(jQuery)}function wpToSocialProUpdateStatus(t,a,o){var s,e,i,_,r;s=jQuery,e=s('div.statuses[data-profile-id="'+t+'"][data-action="'+a+'"] tr[data-status-index="'+o+'"]'),i=-1,_=-1,(r=JSON.parse(s(e).attr("data-status"))).conditions={},r.custom_fields={},r.authors_custom_fields={},r.terms={},s.each(s(wp_to_social_pro.status_form).find("input, select, textarea").serializeArray(),(function(t,a){switch(a.name=a.name.replace(wp_to_social_pro.plugin_name+"_",""),a.name){case"sub_profile":""!==s('input[name="'+wp_to_social_pro.plugin_name+"_"+a.name+'"]',s(wp_to_social_pro.status_form)).val()?r[a.name]=s('input[name="'+wp_to_social_pro.plugin_name+"_"+a.name+'"]',s(wp_to_social_pro.status_form)).val():s('select[name="'+wp_to_social_pro.plugin_name+"_"+a.name+'"]',s(wp_to_social_pro.status_form)).val()&&(r[a.name]=s('select[name="'+wp_to_social_pro.plugin_name+"_"+a.name+'"]',s(wp_to_social_pro.status_form)).val());break;case"post_title[compare]":r.post_title.compare=a.value;break;case"post_title[value]":r.post_title.value=a.value;break;case"post_excerpt[compare]":r.post_excerpt.compare=a.value;break;case"post_excerpt[value]":r.post_excerpt.value=a.value;break;case"post_content[compare]":r.post_content.compare=a.value;break;case"post_content[value]":r.post_content.value=a.value;break;case"start_date[month]":r.start_date.month=a.value;break;case"start_date[day]":r.start_date.day=a.value;break;case"end_date[month]":r.end_date.month=a.value;break;case"end_date[day]":r.end_date.day=a.value;break;case"custom_fields[key][]":if(i++,""==a.value)break;r.custom_fields[i]={},r.custom_fields[i].key=a.value;break;case"custom_fields[compare][]":if(void 0===r.custom_fields[i])break;r.custom_fields[i].compare=a.value;break;case"custom_fields[value][]":if(void 0===r.custom_fields[i])break;r.custom_fields[i].value=a.value;break;case"authors":if("false"==a.value)break;r[a.name]=a.value.split(",");break;case"authors_roles":if("false"==a.value)break;r[a.name]=a.value.split(",");break;case"authors_custom_fields[key][]":if(_++,""==a.value)break;r.authors_custom_fields[_]={},r.authors_custom_fields[_].key=a.value;break;case"authors_custom_fields[compare][]":if(void 0===r.authors_custom_fields[_])break;r.authors_custom_fields[_].compare=a.value;break;case"authors_custom_fields[value][]":if(void 0===r.authors_custom_fields[_])break;r.authors_custom_fields[_].value=a.value;break;default:var o=a.name.match(/conditions\[([^)]+)\]/);if(o){r.conditions[o[1]]=a.value;break}var e=a.name.match(/terms\[([^)]+)\]/);if(e){r.terms[e[1]]=a.value.split(",");break}if("true"==a.value){r[a.name]=!0;break}if("false"==a.value){r[a.name]=!1;break}r[a.name]=a.value;break}})),s(e).data("status",JSON.stringify(r)).attr("data-status",JSON.stringify(r)),wpToSocialProUpdateStatuses(),s.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:wp_to_social_pro.get_status_row_action,nonce:wp_to_social_pro.get_status_row_nonce,post_type:wp_to_social_pro.post_type,post_action:a,status:JSON.stringify(r)},error:function(t,a,o){alert("error")},success:function(t){t.success||alert(t.data),s("td.message",s(e)).text(t.data.message),s("td.image",s(e)).text(t.data.image),s("td.schedule",s(e)).text(t.data.schedule)}})}function wpToSocialProPopulateStatusForm(t,a,o,s,e){var i;(i=jQuery)("div.notice-inline.pinterest",i(wp_to_social_pro.status_form)).addClass("hidden"),i("input, select, textarea",i(wp_to_social_pro.status_form)).each((function(){var t=i(this).attr("name"),o=i(this).prop("nodeName").toLowerCase();if(void 0!==t)switch(t=t.replace(wp_to_social_pro.plugin_name+"_","")){case"image":switch(a.service){case"twitter":i('option[value="1"]',i(this)).attr("disabled",!0),i('option[value="3"]',i(this)).attr("disabled",!0);break;case"pinterest":case"instagram":i('option[value="-1"]',i(this)).prop("disabled",!0),i('option[value="0"]',i(this)).prop("disabled",!0),i('option[value="1"]',i(this)).prop("disabled",!0),i('option[value="3"]',i(this)).prop("disabled",!0);break;default:i("option",i(this)).prop("disabled",!1);break}i(this).val(e[t]);break;case"sub_profile":if("pinterest"!=a.service){i(this).addClass("hidden");break}if(a.can_be_subprofile){i(this).addClass("hidden");break}if(void 0!==a.subprofiles)if(Object.keys(a.subprofiles).length){i("option",i('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form))).remove();for(let t in a.subprofiles)i('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).append(i("<option></option>").attr("value",a.subprofiles[t].id).text(a.subprofiles[t].name));i('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).removeClass("hidden"),i('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).addClass("hidden"),i('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).val(e[t])}else i("div.notice-inline.pinterest",i(wp_to_social_pro.status_form)).removeClass("hidden"),i('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).addClass("hidden"),i('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).addClass("hidden");else i('select[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).addClass("hidden"),i('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).removeClass("hidden"),i('input[name="'+wp_to_social_pro.plugin_name+'_sub_profile"]',i(wp_to_social_pro.status_form)).val(e[t]);break;case"post_title[compare]":i('select[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.post_title.compare);break;case"post_title[value]":i('input[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.post_title.value);break;case"post_excerpt[compare]":i('select[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.post_excerpt.compare);break;case"post_excerpt[value]":i('input[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.post_excerpt.value);break;case"post_content[compare]":i('select[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.post_content.compare);break;case"post_content[value]":i('input[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.post_content.value);break;case"start_date[month]":i('select[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.start_date.month);break;case"start_date[day]":i('input[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.start_date.day);break;case"end_date[month]":i('select[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.end_date.month);break;case"end_date[day]":i('input[name="'+i(this).attr("name")+'"]',i(wp_to_social_pro.status_form)).val(e.end_date.day);break;case"custom_fields[key][]":for(let t in e.custom_fields)i('input[name="'+wp_to_social_pro.plugin_name+'_custom_fields[key][]"]',i(wp_to_social_pro.status_form)).last().val(e.custom_fields[t].key),i('select[name="'+wp_to_social_pro.plugin_name+'_custom_fields[compare][]"]',i(wp_to_social_pro.status_form)).last().val(e.custom_fields[t].compare),i('input[name="'+wp_to_social_pro.plugin_name+'_custom_fields[value][]"]',i(wp_to_social_pro.status_form)).last().val(e.custom_fields[t].value),wpzinc_table_row_add("custom-field",i(this).closest("table"));break;case"custom_fields[compare][]":case"custom_fields[value][]":break;case"authors":if(!e[t])break;i('input[name="'+i(this).attr("name")+'"]').val(e[t].join(","));break;case"authors_compare":if(!e[t])break;i('select[name="'+i(this).attr("name")+'"]').val(e[t]);break;case"authors_roles":if(!e[t])break;i('input[name="'+i(this).attr("name")+'"]').val(e[t].join(","));break;case"authors_roles_compare":if(!e[t])break;i('select[name="'+i(this).attr("name")+'"]').val(e[t]);break;case"authors_custom_fields[key][]":for(let t in e.authors_custom_fields)i('input[name="'+wp_to_social_pro.plugin_name+'_authors_custom_fields[key][]"]',i(wp_to_social_pro.status_form)).last().val(e.authors_custom_fields[t].key),i('select[name="'+wp_to_social_pro.plugin_name+'_authors_custom_fields[compare][]"]',i(wp_to_social_pro.status_form)).last().val(e.authors_custom_fields[t].compare),i('input[name="'+wp_to_social_pro.plugin_name+'_authors_custom_fields[value][]"]',i(wp_to_social_pro.status_form)).last().val(e.authors_custom_fields[t].value),wpzinc_table_row_add("authors-custom-field",i(this).closest("table"));break;case"authors_custom_fields[compare][]":case"authors_custom_fields[value][]":break;default:var s=t.match(/conditions\[([^)]+)\]/);if(s){void 0!==e.conditions[s[1]]&&i(this).val(e.conditions[s[1]]);break}var _=t.match(/terms\[([^)]+)\]/);if(_){void 0!==e.terms[_[1]]&&i(this).val(e.terms[_[1]].join(","));break}i(this).val(e[t]);break}})),i(wp_to_social_pro.status_form).data("profile-id",t).attr("data-profile-id",t),i(wp_to_social_pro.status_form).data("action",o).attr("data-action",o),i(wp_to_social_pro.status_form).data("status-index",s).attr("data-status-index",s)}function wpToSocialProDisplayStatusForm(t,a,o){var s,e,i;s=jQuery,e=s('div.statuses[data-profile-id="'+t+'"][data-action="'+a+'"] tr[data-status-index="'+o+'"]'),i=s('div.statuses[data-profile-id="'+t+'"][data-action="'+a+'"] tr.status-form-container'),s("td",i).append(s(wp_to_social_pro.status_form).removeClass("hidden")),s(e).after(s(i).removeClass("hidden"))}function wpToSocialProSaveAndHideStatusForm(){var t;(t=jQuery)("div.statuses div.wp-to-social-pro-status-form").length>0&&wpToSocialProUpdateStatus(t("div.statuses tr.status-form-container div.wp-to-social-pro-status-form").data("profile-id"),t("div.statuses tr.status-form-container div.wp-to-social-pro-status-form").data("action"),t("div.statuses tr.status-form-container div.wp-to-social-pro-status-form").data("status-index")),t(wp_to_social_pro.status_form).data("profile-id","").attr("data-profile-id",""),t(wp_to_social_pro.status_form).data("action","").attr("data-action",""),t(wp_to_social_pro.status_form).data("status-index","").attr("data-status-index",""),t(wp_to_social_pro.status_form_container).append(t(wp_to_social_pro.status_form))}function wpToSocialProClearStatusForm(){var t;(t=jQuery)("input, select, textarea",t(wp_to_social_pro.status_form)).each((function(){t(this).val("")})),t("tr.custom-field:not(.hide-delete-button)",t(wp_to_social_pro.status_form)).each((function(){t(this).remove()}))}function wpToSocialProGetStatuses(){var t={},a;return(a=jQuery)("li.wpzinc-nav-tab a").each((function(){var o=a(this).attr("href").split("#profile-").pop();"default"==o?t[o]={}:(t[o]={enabled:a('input[name="'+wp_to_social_pro.plugin_name+"["+o+'][enabled]"]').is(":checked")},a('input[type="checkbox"][name="'+wp_to_social_pro.plugin_name+"["+o+'][override]"]').length>0?t[o].override=a('input[type="checkbox"][name="'+wp_to_social_pro.plugin_name+"["+o+'][override]"]').is(":checked"):t[o].override="1"==a('input[type="hidden"][name="'+wp_to_social_pro.plugin_name+"["+o+'][override]"]').val()),a("li.wpzinc-nav-tab-horizontal a","#profile-"+o).each((function(){var s=a(this).attr("href").split("#profile-"+o+"-").pop();t[o][s]={enabled:a('input[name="'+wp_to_social_pro.plugin_name+"["+o+"]["+s+'][enabled]"]').is(":checked"),status:[]},a("tr.status","#profile-"+o+"-"+s).each((function(){t[o][s].status.push(JSON.parse(a(this).attr("data-status")))}))}))})),t}function wpToSocialProUpdateStatuses(){var t,a;return a=jQuery,t=wpToSocialProGetStatuses(),a('input[name="'+wp_to_social_pro.plugin_name+'[statuses]"][type="hidden"]').val(JSON.stringify(t)),t}function wpToSocialProSaveStatuses(t,a){var o,s;s=jQuery,o=wpToSocialProGetStatuses(),wpzinc_modal_open(wp_to_social_pro.save_statuses_modal.title,""),s.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:wp_to_social_pro.save_statuses_action,nonce:wp_to_social_pro.save_statuses_nonce,post_type:t,statuses:JSON.stringify(o)},error:function(t,a,o){console.log(t),console.log(a),console.log(o),wpzinc_modal_close()},success:function(t){t.success||wpzinc_modal_show_error_message_and_exit(t.data),a.length&&(t.data.post_type_enabled?(s(a).addClass("enabled"),s(".notice-warning").hide()):(s(a).removeClass("enabled"),s(".notice-warning").show())),wpzinc_modal_show_success_and_exit(wp_to_social_pro.save_statuses_modal.title_success)}})}function wpToSocialProSavePostStatuses(t,a,o,s){var e,i;i=jQuery,e=wpToSocialProGetStatuses(),wpzinc_modal_open(wp_to_social_pro.save_statuses_modal.title,""),i.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:wp_to_social_pro.save_statuses_action,nonce:wp_to_social_pro.save_statuses_nonce,post_id:t,override:a,featured_image:o,additional_images:s,statuses:JSON.stringify(e)},error:function(t,a,o){wpzinc_modal_close()},success:function(t){t.success||wpzinc_modal_show_error_message_and_exit(t.data),wpzinc_modal_show_success_and_exit(wp_to_social_pro.save_statuses_modal.title_success)}})}function wpToSocialProCharacterCount(t){var a;a=jQuery,wpToSocialProCharacterCounting||(wpToSocialProCharacterCounting=!0,a.post(wp_to_social_pro.ajax,{action:wp_to_social_pro.character_count_action,post_id:wp_to_social_pro.post_id,status:a(t).val(),nonce:wp_to_social_pro.character_count_nonce},(function(o){a("span.character-count",a(t).parent()).text(o.data.character_count),setTimeout((function(){wpToSocialProCharacterCounting=!1}),3e3)})))}function wpToSocialProEnableNotSavedPrompt(){wp_to_social_pro.prompt_unsaved_changes&&(window.onbeforeunload=function(){return!0})}function wpToSocialProDisableNotSavedPrompt(){window.onbeforeunload=null}var wpToSocialProCharacterCounting=!1;jQuery(document).ready((function(t){wpToSocialProInitTags(),t(wp_to_social_pro.status_form).on("change."+wp_to_social_pro.status_form,"select.image",(function(t){wpToSocialProUpdateImageOptions()})),t(wp_to_social_pro.status_form).on("change."+wp_to_social_pro.status_form,"select.schedule",(function(a){wpToSocialProUpdateScheduleOptions(t(this).closest("div.statuses").data("action"))})),t("input.enable",t("#profiles-container")).on("change",(function(a){var o=t(this).data("tab"),s;t(this).prop("checked")?t('a[href="#'+o+'"]').addClass("enabled"):t('a[href="#'+o+'"]').removeClass("enabled"),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProUpdateStatuses(),wpToSocialProEnableNotSavedPrompt()})),t("input.override",t("#profiles-container")).on("change",(function(t){wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProUpdateStatuses(),wpToSocialProEnableNotSavedPrompt()})),t(".wpzinc-js-tabs").on("click",(function(){wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm()})),t("#profiles-container").on("click","a.button.add-status",(function(a){a.preventDefault(),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProAddStatus(t(this).closest("div.statuses").data("profile-id"),t(this).closest("div.statuses").data("action")),wpToSocialProEnableNotSavedPrompt()})),t("#profiles-container").on("click","a.edit-status",(function(a){a.preventDefault(),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProEditStatus(t(this).closest("div.statuses").data("profile-id"),t(this).closest("div.statuses").data("profile"),t(this).closest("div.statuses").data("action"),t(this).closest("tr").data("status-index"),JSON.parse(t(this).closest("tr").attr("data-status"))),wpToSocialProEnableNotSavedPrompt()})),t(wp_to_social_pro.status_form).on("change","input, select, textarea",(function(a){wpToSocialProUpdateStatus(t(wp_to_social_pro.status_form).data("profile-id"),t(wp_to_social_pro.status_form).data("action"),t(wp_to_social_pro.status_form).data("status-index")),wpToSocialProEnableNotSavedPrompt()})),t("body").on("wpzinc-table-row-delete",(function(a){wpToSocialProUpdateStatus(t(wp_to_social_pro.status_form).data("profile-id"),t(wp_to_social_pro.status_form).data("action"),t(wp_to_social_pro.status_form).data("status-index")),wpToSocialProEnableNotSavedPrompt()})),t("#profiles-container").on("click","a.delete-status",(function(a){a.preventDefault(),wpToSocialProSaveAndHideStatusForm(),wpToSocialProClearStatusForm(),wpToSocialProDeleteStatus(t(this).closest("div.statuses").data("profile-id"),t(this).closest("div.statuses").data("action"),t(this).closest("tr").data("status-index")),wpToSocialProEnableNotSavedPrompt()})),t("#profiles-container div.statuses").length>0&&t("#profiles-container div.statuses").sortable({containment:"parent",items:".sortable",stop:function(a,o){var s=t(o.item),e=t(s).closest("div.statuses");wpToSocialProReindexStatuses(t(e)),wpToSocialProUpdateStatuses(),wpToSocialProEnableNotSavedPrompt()}}),t("#profiles-container div.statuses").bind("click.sortable mousedown.sortable",(function(t){t.target.focus()})),wp_to_social_pro.post_id>0&&t("textarea.message",t(wp_to_social_pro.status_form)).on("keyup change",(function(t){wpToSocialProCharacterCount(this)})),t("form.wp-to-social-pro").on("submit",(function(a){a.preventDefault(),wpToSocialProDisableNotSavedPrompt(),wpToSocialProUpdateStatuses(),wpToSocialProSaveStatuses(wp_to_social_pro.post_type,t('h2.nav-tab-wrapper a[data-post-type="'+wp_to_social_pro.post_type+'"]'))})),t("button."+wp_to_social_pro.plugin_name+"-save-post-statuses").on("click",(function(a){a.preventDefault(),wpToSocialProDisableNotSavedPrompt(),wpToSocialProUpdateStatuses();var o=[];for(i=0;i<=2;i++)t('input[name="'+wp_to_social_pro.plugin_name+"[additional_images]["+i+']"]').length&&o.push(t('input[name="'+wp_to_social_pro.plugin_name+"[additional_images]["+i+']"]').val());wpToSocialProSavePostStatuses(wp_to_social_pro.post_id,t('select[name="'+wp_to_social_pro.plugin_name+'[override]"]').val(),t('input[name="'+wp_to_social_pro.plugin_name+'[featured_image]"]').val(),o)}))}));